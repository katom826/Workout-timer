(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[445],{5936:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/workout",function(){return r(6120)}])},6120:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var l=r(7876),n=r(4232),s=r(7288);function a(e){let{onClick:t,children:r}=e;return(0,l.jsx)("button",{className:"p-5 cursor-pointer mt-10 text-6xl",onClick:t,children:(0,l.jsx)("svg",{className:"h-20 w-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",fill:"#e3e3e3",children:r})})}var i=r(4e3);function c(){let[e,t]=(0,n.useState)([]),[r,c]=(0,n.useState)(0),[u,o]=(0,n.useState)(0),[d,p]=(0,n.useState)(0),[x,h]=(0,n.useState)(!1),[f,m]=(0,n.useState)(!1),g=(0,n.useRef)(null),b=(0,i.useRouter)(),[v,j]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=localStorage.getItem("exercises");if(e){let r=JSON.parse(e);t(r),o(r[0].duration),p(r[0].reps),j(!0)}else alert("エラー")},[]),(0,n.useEffect)(()=>{if(!x||!v)return;let e=setInterval(()=>{o(e=>Math.max(e-1,0))},1e3);return()=>clearInterval(e)},[x]),(0,n.useEffect)(()=>{if(g.current&&v)if(u>0)w(),g.current.play().catch(()=>{});else{let e=new Audio("/audio/rep_change.mp3");w(),e.play()}},[u]),(0,n.useEffect)(()=>{!(u>0)&&v&&(o(e[r].duration),p(e=>e-1))},[u]),(0,n.useEffect)(()=>{if(d>0||!v)return;let t=r+1;if(t<e.length)c(t),p(e[t].reps),o(e[t].duration);else{m(!0),h(!1);let e=new Audio("/audio/clear.mp3");w(),e.play()}},[d]);let w=()=>{g.current&&(g.current.pause(),g.current.currentTime=0)},N=()=>{b.push("/index")};return(0,l.jsx)("div",{className:"h-screen flex items-center justify-center flex-col gap-5",children:v?f?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{className:"text-6xl font-bold bg-linear-to-r from-pink-500 via-purple-500 to-blue-500 bg-clip-text text-transparent",children:"お疲れさまでした！"}),(0,l.jsx)(s.A,{onClick:N,optionalClass:"mt-10 p-10 text-3xl",children:"ホームに戻る"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.A,{onClick:N,optionalClass:"mt-10 p-10 text-3xl",children:"ホームに戻る"}),(0,l.jsx)("h1",{className:"text-7xl font-bold bg-linear-to-r from-pink-500 via-purple-500 to-blue-500 bg-clip-text text-transparent",children:e[r].name}),(0,l.jsxs)("p",{className:"text-6xl font-bold bg-linear-to-r from-pink-500 via-purple-500 to-blue-500 bg-clip-text text-transparent",children:[d," / ",e[r].reps," 回"]}),(0,l.jsx)("div",{className:"w-64 h-4 bg-gray-300 rounded overflow-hidden",children:(0,l.jsx)("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:"".concat(d/e[r].reps*100,"%")}})}),(0,l.jsxs)("p",{className:"text-6xl font-bold bg-linear-to-r from-pink-500 via-purple-500 to-blue-500 bg-clip-text text-transparent",children:[u," / ",e[r].duration," 秒"]}),(0,l.jsx)("div",{className:"w-64 h-4 bg-gray-300 rounded overflow-hidden",children:(0,l.jsx)("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:"".concat(u/e[r].duration*100,"%")}})}),(0,l.jsx)(a,{onClick:x?()=>{h(!1)}:()=>{h(!0),g.current||(g.current=new Audio("/audio/tick.mp3"),g.current.play().catch(()=>{}),w())},children:x?(0,l.jsx)(()=>(0,l.jsx)("path",{d:"M560-200v-560h160v560H560Zm-320 0v-560h160v560H240Z"}),{}):(0,l.jsx)(()=>(0,l.jsx)("path",{d:"M320-200v-560l440 280-440 280Z"}),{})})]}):(0,l.jsx)("p",{children:"読み込み中..."})})}},7288:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var l=r(7876);function n(e){let{onClick:t,children:r,optionalClass:n=""}=e;return(0,l.jsx)("button",{className:"p-5 cursor-pointer ".concat(n),onClick:t,children:r})}}},e=>{e.O(0,[0,636,593,792],()=>e(e.s=5936)),_N_E=e.O()}]);